<!DOCTYPE html>
<html>
    <head>
        <title>JavaScript Game  - Movimento 1</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style type="text/css">
            canvas{
                position: absolute;
                top: 0px;
                bottom: 0px;
                left: 0px;
                right: 0px;
                margin: auto;
            }
        </style>
    </head>
    <body>
        <script type="text/javascript">
			var canvas, ctx, ALTURA, LARGURA, frames = 0, move_em_x = 4, move_em_y = 5;
            var bolas = [];
			
			function Bola(ix,iy,r, cor){
			
                  this.x=ix;
                  this.y=iy;
                  this.raio = r;
                  this.dir_x =false; 
                  this.dir_y =false;
                  this.cor=cor;
                                        
                   this.atualiza=function(){
                        // Controles de x                                            
                        if(this.dir_x)                        
                            this.x -= move_em_x;
                        else
                            this.x += move_em_x;
							
							
						// Controles de y                                        
						if(this.dir_y)                        
                            this.y -= move_em_y
                        else
                            this.y += move_em_y
						
						this.verificaLimites();

                    };
                    
                    this.desenha=function(){
                        ctx.fillStyle = this.cor;
                        ctx.beginPath(); 
                        ctx.arc(this.x, this.y, this.raio, 0, 2 * Math.PI)
                        ctx.fill();
                    };
                    
                    
                    this.verificaLimites= function(){
                        // Controles de x                    
                        if(this.x >= LARGURA - this.raio || this.x <= 0 + this.raio){                        
                            this.dir_x = !this.dir_x;
                        }
						
						
                        // Controles de y
                        if(this.y >= LARGURA - this.raio || this.y <= 0 + this.raio){                        
                            this.dir_y = !this.dir_y;
                        }
                    };
			};
			
			
			bola = new Bola(100,100,40, "#ff4e4e");
            bola2 = new Bola(100,100,10, "#00f000");
            bola3 = new Bola(100,100,20, "#0000ff");
            bola4 = new Bola(100,100,15, "#00ffff");
            bola5 = new Bola(100,100,35, "#ffffff");

            bolas.push(bola);
            bolas.push(bola2);
            bolas.push(bola3)
            bolas.push(bola4)
            bolas.push(bola5)


            // Funções para atualização do canvas
            function desenha() {
                ctx.fillStyle = "#50beff";
                ctx.fillRect(0, 0, LARGURA, ALTURA);  

                for(var i in bolas){
                    bolas[i].desenha();
                }
            }

            function atualiza() {
                frames++;
                for(var i in bolas){
                    bolas[i].atualiza();
                }
                    
            }

            function loop() {
                atualiza();
                desenha();
                window.requestAnimationFrame(loop);
            }

            function start() {
                LARGURA = window.innerWidth;
                ALTURA = window.innerHeight;
                if (LARGURA >= 500) {
                    LARGURA = ALTURA = 600;
                }
				
				
                canvas = document.createElement("canvas");
                canvas.width = LARGURA;
                canvas.height = ALTURA;
                canvas.style.border = "2px solid #0c3";

                ctx = canvas.getContext("2d");
                document.body.appendChild(canvas);
 

                loop();
            }

            start();

        </script>
        

    </body>
</html>